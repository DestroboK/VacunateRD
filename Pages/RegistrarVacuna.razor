@page "/Registrar"

<div class="container">
  <center>
    <h1>Registrar vacuna</h1>
    <hr style="background-color: white" class="mt-2" />
  </center>
</div>

<div class="container">
<EditForm Model ="@VacunadoX">
<InputText placeholder="Cedula" class="form-group" @bind-Value="VacunadoX.Cedula">Cedula</InputText>
<InputText placeholder="Nombre" class="form-group" @bind-Value="VacunadoX.Nombre">Nombre</InputText>
<InputText placeholder="Apellido" class="form-group" @bind-Value="VacunadoX.Apellido">Apellido</InputText>
<InputText placeholder="Telefono" class="form-group" @bind-Value="VacunadoX.Telefono">Telefono</InputText>
<InputText placeholder="@Zodiaco" class="form-group" @bind-Value="VacunadoX.signo_zodiaco">Signo zodiacal</InputText>
<label>Fecha de la(s) dosis</label>
<InputDate placeholder="Fecha de la dosis" @bind-Value = "VacunadoX.Fecha_Dosis" class="form-control">Fecha de la dosis</InputDate>
<label>Fecha de nacimiento</label>
<InputDate placeholder="Fecha de nacimiento" @bind-Value = "VacunadoX.Fecha_nacimiento" class="form-control">Fecha de nacimiento</InputDate>
<InputSelect class="form-group" @bind-Value="VacunadoX.TipoVacuna">
@foreach (Vacuna vac in GetVacuna)
    {
        <option value ="@vac.Nombre">@vac.Nombre</option>
    }
</InputSelect>

<InputSelect class="form-group" @bind-Value="VacunadoX.Provincia">
@foreach (Provincia prov in GetProvincias)
    {
        <option value ="@prov.Nombre">@prov.Nombre</option>
    }
</InputSelect>
</EditForm>
</div>
<button class="btn btn-dark mb-3 ml-2" @onclick="Registrar">Registrar vacunado</button>





@code {
  string Zodiaco = "Signo zodiacal";
  Vacunado VacunadoX = new Vacunado();
  List<Provincia> GetProvincias = new VacunateRDContext().Provincias.ToList();
  List<Vacuna> GetVacuna = new VacunateRDContext().Vacunas.ToList();

    void Registrar()
    {
        using (VacunateRDContext context = new VacunateRDContext())
        {
            context.Add(VacunadoX);
            context.SaveChanges();
        }

    }
}
